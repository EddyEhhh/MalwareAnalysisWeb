/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template
 */
package edu.mac.malwarereport.permission;

import edu.mac.malwarereport.permission.applicationFacade.PermissionApplicationFacade;
import edu.mac.malwarereport.permission.dto.PermissionDTO;
import jakarta.annotation.PostConstruct;
import jakarta.enterprise.context.RequestScoped;
import jakarta.faces.context.FacesContext;
import jakarta.inject.Inject;
import jakarta.inject.Named;
import jakarta.servlet.http.HttpServletRequest;

/**
 *
 * @author tohyu
 */
@Named("permissionBean")
@RequestScoped
public class PermissionBean {
    
    private PermissionDTO selectedPermission;
    
    @Inject 
    private PermissionApplicationFacade permissionApplicationFacade;
    
    @PostConstruct
    public void init(){
        HttpServletRequest req = (HttpServletRequest)FacesContext.getCurrentInstance().getExternalContext().getRequest();
        //this is to request the 'id' which is the variable at the end on the url 
        String suuid = req.getParameter("id");
        //find the report by the 'id'
        setSelectedPermission(permissionApplicationFacade.findBySuuid(suuid));
    }
    
     /**
     * @return the selectedPermission
     */
    public PermissionDTO getSelectedPermission() {
        return selectedPermission;
    }

    /**
     * @param selectedPermission the selectedPermission to set
     */
    public void setSelectedPermission(PermissionDTO selectedPermission) {
        this.selectedPermission = selectedPermission;
    }
    
}
