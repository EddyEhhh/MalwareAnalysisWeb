<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xml:lang="en">

    <ui:composition template="/template/admin_header.xhtml">
        <ui:define name="pageTitle">#{msg["header.editOrg"]}</ui:define>
        <ui:define name="body">
            <h:body class="relative">
                <h:form class="absolute px-4 pt-3 w-full">
                    <h4 style="margin-top:10px">#{msg["org.edit"]}</h4>
                    <h:inputHidden value = "#{editOrganisationBean.selectedOrganisation.suuid}"/> 
                    <div class="flex flex-column">
                        <div class="grid">
                            <div class="col-12">
                                <p:outputLabel class="font-bold">#{msg["org.name"]}</p:outputLabel>
                                <p:inputText class="w-full mt-2 mb-2" value="#{editOrganisationBean.selectedOrganisation.name}"/>                           
                            </div>
                             <!-- itemValue: 3 is for testing purposes -->
                            <div class="col-6">
                                <p:outputLabel class="flex font-bold">#{msg["org.maxMember"]}</p:outputLabel>
                                <p:selectOneMenu class="flex inputfield mt-2" value="#{editOrganisationBean.selectedOrganisation.settingDTO.maxMember}">
                                    <f:selectItem itemLabel="25" itemValue="25"/>
                                    <f:selectItem itemLabel="50" itemValue="50"/>
                                    <f:selectItem itemLabel="100" itemValue="100"/>
                                    <f:selectItem itemLabel="500" itemValue="500"/>
                                </p:selectOneMenu>
                            </div>
                            <!-- itemValue: 5 is for testing purposes -->
                            <div class="col-6">
                                <p:outputLabel class="flex font-bold">#{msg["org.maxScan"]}</p:outputLabel>
                                <p:selectOneMenu class="flex inputfield mt-2" value="#{editOrganisationBean.selectedOrganisation.settingDTO.maxScan}">
                                    <f:selectItem itemLabel="5000" itemValue="5000"/>
                                    <f:selectItem itemLabel="10000" itemValue="10000"/>
                                    <f:selectItem itemLabel="20000" itemValue="20000"/>
                                    <f:selectItem itemLabel="25000" itemValue="25000"/>
                                </p:selectOneMenu>
                            </div>
                              <div class="col-6">
                                <p:outputLabel class="font-bold">#{msg['org.maxLoginAttempt']}</p:outputLabel><br/>
                                <p:outputLabel value="#{msg['org.default5times']}"/><br/><br/>
                                <p:inputText class="w-full mt-2 mb-2" disabled="true" value="#{editOrganisationBean.selectedOrganisation.settingDTO.maxLoginAttempt}"/>                                                   
                            </div>
                            <div class="col-6">
                                <p:outputLabel class="font-bold">#{msg['org.timeoutSetting']}</p:outputLabel><br/>
                                <p:outputLabel value="#{msg['org.default20min']}"/><br/><br/>
                               <p:inputText class="w-full mt-2 mb-2" disabled="true" value="#{editOrganisationBean.selectedOrganisation.settingDTO.lockoutTime}"/>                             
                            </div>
                        </div>
                        <p:outputLabel class="font-bold">#{msg["org.description"]}</p:outputLabel>
                        <p:inputTextarea class="w-12 mt-2 mb-2" value="#{editOrganisationBean.selectedOrganisation.description}"></p:inputTextarea>
                        <!--Buttons-->
                        <p:growl id="editOrganisationMessage" globalOnly="true"/>
                        <div class="col-6">
                            <p:commandButton id="editOrganisation" update="@form" class="my-2 ui-button-raised ui-button-help" value="#{msg['org.update']}" action="#{editOrganisationBean.updateOrganisation}"/>
                            <p:commandButton action="#{redirectBean.viewOrganisation()}" value="#{msg['general.cancel']}" class="mx-2 ui-button-raised ui-button-secondary">
                                <f:param name="id" value="#{editOrganisationBean.selectedOrganisation.suuid}"/>
                            </p:commandButton>
                        </div>
                    </div>
                </h:form>

                <p:divider/>

                <!--                <h:form id="managerForm">
                                    <p:dataTable id="manager" var="thisManager" value="#" rowKey="#" selectionMode="single">
                                         <p:growl id="messages" globalOnly="true"/>
                                        <f:facet name="header">
                                            <div class="products-table-header grid">
                                                <div class="col-8">
                                                    <span class="font-bold text-3xl">Managers</span>
                                                </div>
                                                <div class="col-1">
                                                    <p:commandButton class="mx-5 px-1" value="New" icon="pi pi-plus" onclick="PF('addManagerDialog').show()"/>
                                                </div>
                                                <div class="col-3">
                                                    <div class="p-d-flex p-jc-end">
                                                        <p:inputText id="globalFilter" onkeyup="PF('dtPermission').filter()" style="width:350px"
                                                                     placeholder="Search" />
                                                    </div>
                                                </div>
                                            </div>
                                        </f:facet>
                                        <p:column class="text-lg w-3" headerText="#{msg["manager.firstName"]}">
                                            <h:outputText value="#" />
                                        </p:column>
                                        <p:column class="text-lg w-3" headerText="#{msg["manager.lastName"]}">
                                            <h:outputText value="#" />
                                        </p:column>
                                        <p:column class="text-lg w-3" headerText="#{msg["manager.email"]}">
                                            <h:outputText value="#" />
                                        </p:column>-->

                <!--Buttons -->
                <!--                        <p:column>         
                                            <p:linkButton icon="pi pi-search" title="View Manager" styleClass="rounded-button ui-button-info ui-button-flat" outcome="/page/admin/managerDetails.xhtml/">
                                                <f:param name="id" value="#"/>
                                            </p:linkButton>
                                            <p:linkButton icon="pi pi-pencil" title="Edit Manager" styleClass="rounded-button ui-button-warning ui-button-flat" outcome="/page/admin/editManager.xhtml/">
                                                <f:param name="id" value="#"/>
                                            </p:linkButton>
                                            <p:commandButton icon="pi pi-trash" title="Deactivate Manager" styleClass="rounded-button ui-button-danger ui-button-flat" oncomplete="PF('deleteManagerDialog').show()">
                                                <f:setPropertyActionListener value="" target=""/>
                                            </p:commandButton>
                                        </p:column> 
                                    </p:dataTable>
                
                                    Delete Manager confirmation
                                    <p:confirmDialog widgetVar="deleteManagerDialog" showEffect="fade" width="300"
                                                     message="Deactivate the Manager Account?" header="Confirm" severity="warn">
                                        <p:commandButton value="Yes" icon="pi pi-check" actionListener="#{crudView.deleteProduct}"
                                                         process="@this" oncomplete="PF('deleteManagerDialog').hide()"/>
                                        <p:commandButton value="No" type="button" styleClass="ui-button-secondary" icon="pi pi-times"
                                                         onclick="PF('deleteManagerDialog').hide()"/>
                                    </p:confirmDialog>
                                </h:form>
                                
                                 Create Manager Dialog
                                 <h:form id="createManagerForm">
                                    <p:dialog header="Create Manager" widgetVar="addManagerDialog" minHeight="40" width="400" showEffect="fade" modal="true" minimizable="true" style="text-align:left" responsive="true">
                                        <p:outputPanel id="manage-product-content" class="ui-fluid">
                                            <div class="p-field">
                                                <p:outputLabel for="name">#{msg["manager.firstName"]}</p:outputLabel>
                                                <p:inputText id="name" value="#"/>
                                            </div>
                                            <br/>
                                            <div class="p-field">
                                                <p:outputLabel for="description">#{msg["manager.lastName"]}</p:outputLabel>
                                                <p:inputTextarea id="description" value="#"/>
                                            </div>
                                            <br/>
                                            <div class="p-field">
                                                <p:outputLabel for="label">#{msg["manager.email"]}</p:outputLabel>
                                                <p:inputText id="label" value="#"/>
                                            </div>
                                        </p:outputPanel>
                
                                        <f:facet name="footer">
                                            <p:commandButton value="Create" icon="pi pi-check" action="#" onclick="PF('addManagerDialog').close()"
                                                             update="permissionForm"/>
                                            <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('addManagerDialog').close()"
                                                             class="ui-button-secondary"/>
                                        </f:facet>
                                    </p:dialog>
                                </h:form>-->

            </h:body>
        </ui:define>
    </ui:composition>
</html>