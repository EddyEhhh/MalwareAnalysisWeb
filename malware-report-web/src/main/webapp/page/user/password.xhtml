<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xml:lang="en">

    <ui:composition template="/template/user_default.xhtml">
        <ui:define name="pageTitle">#{msg["header.editPassword"]}</ui:define> 
        <ui:define name="body">
            <h:body>
                <div class="flex align-items-stretch flex-wrap card-container m-5">
                        <h:form>
                            <div class="flex flex-column">
                                <div class="grid">
                                    <div class="col-12">
                                        <p:outputLabel for="currentPassword" class="font-bold">#{msg["password.current"]}</p:outputLabel><br/>
                                        <p:password class="my-2" id="currentPassword" value="#{passwordBean.accountDTO.currentPassword}"/>
                                    </div>
                                    <div class="col-12">
                                        <p:outputLabel for="newPassword" class="font-bold">#{msg["password.new"]}</p:outputLabel><br/>
                                        <p:password class="my-2" id="newPassword" value="#{passwordBean.accountDTO.password}"/>
                                        <p:messages for="newPassword" id="passwordMsg"/>
                                    </div>
                                    <div class="col-12">
                                        <p:outputLabel for="confirmPassword" class="font-bold">#{msg["password.confirm"]}</p:outputLabel><br/>
                                        <p:password class="my-2" id="confirmPassword" value="#{passwordBean.accountDTO.confirmPassword}"/>
                                        <p:messages for="newPassword" id="confirmPasswordMsg"/>
                                    </div>

                                    <div class="col-12">
                                        <p:commandButton value="#{msg['user.updatePassword']}" update="changePasswordMessage" class="ui-button-raised ui-button-help" action="#{passwordBean.changePassword}"/>
                                        <p:linkButton outcome="/page/user/profile.xhtml" value="#{msg['general.cancel']}" class="mx-2 ui-button-raised ui-button-secondary"/>
                                    </div>
                                    <p:growl id="changePasswordMessage" globalOnly="true"/>
                                </div>
                            </div>
                        </h:form>
                </div>
            </h:body>
        </ui:define>
    </ui:composition>

</html>
