<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xml:lang="en">

    <ui:composition template="/template/header_nologin.xhtml">
        <ui:define name="pageTitle">#{msg['header.resetPassword']}</ui:define> 
        <ui:define name="body">
            <h:body>
                <div class="flex align-items-stretch flex-wrap card-container m-5">
                    <div>
                        <h:form>
                            <div class="ui-fluid mx-4 my-3">
                                <f:metadata>
                                    <f:viewParam name="id" value="#{passwordBean.accountDTO.passwordToken}" />
                                </f:metadata>
                                <div class="p-field my-3">
                                    <p:outputLabel for="newPassword">#{msg['user.newPassword']}</p:outputLabel>
                                    <p:password class="my-2" id="newPassword" value="#{passwordBean.accountDTO.password}"/>
                                    <p:messages for="newPassword" id="passwordMsg" />
                                </div>
                                <div class="p-field my-3">
                                    <p:outputLabel for="confirmPassword">#{msg['user.confirmNewPassword']}</p:outputLabel>
                                    <p:password class="my-2" id="confirmPassword" value="#{passwordBean.accountDTO.confirmPassword}"/>
                                    <p:messages for="newPassword" id="confirmPasswordMsg" />
                                </div>
                                <p:commandButton value="#{msg['user.updatePassword']}" class="ui-button-raised ui-button-help" update="@form" action="#{passwordBean.resetPassword}"/>
                                <p:messages id="messages" globalOnly="true"/>

                            </div>
                        </h:form>
                    </div>
                </div>
            </h:body>
        </ui:define>
    </ui:composition>

</html>
