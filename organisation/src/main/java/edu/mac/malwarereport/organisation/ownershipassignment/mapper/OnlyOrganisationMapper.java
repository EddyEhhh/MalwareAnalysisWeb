/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template
 */
package edu.mac.malwarereport.organisation.ownershipassignment.mapper;

import edu.mac.malwarereport.organisation.entity.Organisation;
import edu.mac.malwarereport.organisation.manager.OrganisationManager;
import edu.mac.malwarereport.ownership.outputinfo.DeleteMappingStatus;
import edu.mac.malwarereport.personnel.entity.OwnershipAssignment;
import edu.mac.malwarereport.personnel.manager.OwnershipAssignmentManager;
import jakarta.ejb.Stateless;
import jakarta.inject.Inject;

/**
 *
 * @author Jaibun Thana
 */
@Stateless
public class OnlyOrganisationMapper {
    
    @Inject
    private OwnershipAssignmentManager ownershipAssignmentManager;
    
    @Inject
    private OrganisationManager organisationManager;
    
    public OwnershipAssignment getOwnershipAssignment(){
        String primaryType = "org";
        OwnershipAssignment organisationReportAssignment = new OwnershipAssignment();
        organisationReportAssignment.setPrimaryType(primaryType);
        return organisationReportAssignment;
    }
    
    public DeleteMappingStatus deleteAllByPrimaryOnly(Organisation organisation){
        OwnershipAssignment ownershipAssignment = getOwnershipAssignment();
        ownershipAssignment.setPrimaryId(organisation.getId());
        return ownershipAssignmentManager.deleteAllByPrimaryOnly(ownershipAssignment);
    }
    
}
