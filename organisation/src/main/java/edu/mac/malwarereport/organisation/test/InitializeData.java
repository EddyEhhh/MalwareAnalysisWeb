 /*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template
 */
package edu.mac.malwarereport.organisation.test;

         
import edu.mac.malwarereport.organisation.data.OrganisationFacade;
import edu.mac.malwarereport.organisation.dto.OrganisationDTO;
import edu.mac.malwarereport.organisation.entity.Organisation;
import edu.mac.malwarereport.organisation.entity.Setting;
import edu.mac.malwarereport.organisation.manager.OrganisationManager;
import jakarta.annotation.PostConstruct;
import jakarta.ejb.Singleton;
import jakarta.ejb.Startup;
import jakarta.inject.Inject;


/**
 *
 * @author tohyu
 */
@Startup
@Singleton
public class InitializeData {
    
    @Inject
    private OrganisationFacade organisationFacade;
    
    @Inject 
    private OrganisationManager organisationManager;
    
    @PostConstruct
    public void init(){
        
        if(organisationFacade.count() <= 0){
            
        
        String name = "Temasek Polytechnic";
        String description = "Temasek Polytechnic school of confidence and pride";
        int maxScan = 100;
        int maxMember = 10;
        int maxLoginAttempt = 5;
        int lockoutTimeInMinute = 20;
        Setting setting = new Setting(maxScan, maxMember, maxLoginAttempt, lockoutTimeInMinute);
        Organisation organisation = new Organisation(name, description, setting);
        organisationFacade.create(organisation);
        
        name = "Leo's Malware Analysis Operation";
        description = "Leo's very own malware operation centre";
        maxScan = 100;
        maxMember = 10;
        maxLoginAttempt = 5;
        lockoutTimeInMinute = 20;
        setting = new Setting(maxScan, maxMember, maxLoginAttempt, lockoutTimeInMinute);
        organisation = new Organisation(name, description, setting);
        organisationFacade.create(organisation);
        
        name = "Testing";
        description = "This is for testing purposes";
        maxScan = 3;
        maxMember = 8;
        maxLoginAttempt = 2;
        lockoutTimeInMinute = 1;
        setting = new Setting(maxScan, maxMember, maxLoginAttempt, lockoutTimeInMinute);
        organisation = new Organisation(name, description, setting);
        organisationFacade.create(organisation);
        
        name = "Hello";
        description = "Hello World!";
        maxScan = 100;
        maxMember = 10;
        maxLoginAttempt = 5;
        lockoutTimeInMinute = 20;
        setting = new Setting(maxScan, maxMember, maxLoginAttempt, lockoutTimeInMinute);
        organisation = new Organisation(name, description, setting);
        organisationFacade.create(organisation);
        }
        
    }
}

