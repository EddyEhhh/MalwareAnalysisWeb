 /*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template
 */
package edu.mac.malwarereport.subjectassignment.test;

         

import edu.mac.malwarereport.subjectassignment.data.SubjectAssignmentFacade;
import edu.mac.malwarereport.subjectassignment.entity.SubjectAssignment;
import jakarta.annotation.PostConstruct;
import jakarta.ejb.Singleton;
import jakarta.ejb.Startup;
import jakarta.inject.Inject;


/**
 *
 * @author tohyu
 */
@Startup
@Singleton
public class InitializeData {
    
    @Inject
    private SubjectAssignmentFacade subjectAssignmentFacade;
    
    
    @PostConstruct
    public void init(){
        
        if(subjectAssignmentFacade.count() <= 0){
            //Initialize data here
            
            //TP
            long accountId = 1; //EDDY
            long roleId = 7; //CHAIRMAN
            SubjectAssignment subjectAssignment = new SubjectAssignment(accountId, roleId);
            subjectAssignmentFacade.create(subjectAssignment);
            
            accountId = 4; //JASMINE
            roleId = 9; //PRINCIPAL
            subjectAssignment = new SubjectAssignment(accountId, roleId);
            subjectAssignmentFacade.create(subjectAssignment);
            
            accountId = 10; //tohYunZhen
            roleId = 8; //DIRECTOR
            subjectAssignment = new SubjectAssignment(accountId, roleId);
            subjectAssignmentFacade.create(subjectAssignment);
            roleId = 4; //GUEST
            subjectAssignment = new SubjectAssignment(accountId, roleId);
            subjectAssignmentFacade.create(subjectAssignment);
            
            
            //LMAO
            accountId = 13; //LEO
            roleId = 14;
            subjectAssignment = new SubjectAssignment(accountId, roleId);
            subjectAssignmentFacade.create(subjectAssignment);
            
        }
        
    }
}

