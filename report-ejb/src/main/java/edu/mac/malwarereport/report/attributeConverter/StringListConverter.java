/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template
 */
package edu.mac.malwarereport.report.attributeConverter;

import jakarta.persistence.AttributeConverter;
import jakarta.persistence.Converter;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

/**
 *
 * @author Jaibun Thana
 */
@Converter
public class StringListConverter implements AttributeConverter<List<String>, String> {

  @Override
  public String convertToDatabaseColumn(List<String> list) {
      if(list == null){
          return null;
      }
    // Java 8
    return String.join(",|", list); 
  }

  @Override
  public List<String> convertToEntityAttribute(String joined) {
      if(joined == null){
          return null;
      }
    return new ArrayList<>(Arrays.asList(joined.split(",|")));
  }

}