package edu.mac.malwarereport.report.data;

import edu.mac.malwarereport.report.entity.Report;
import edu.mac.malwarereport.report.entity.ReportValue;
import jakarta.ejb.Stateless;
import jakarta.persistence.EntityManager;
import jakarta.persistence.PersistenceContext;

/**
 *
 * @author Jaibun Thana
 */
@Stateless
public class ReportFacade extends AbstractFacade<Report> {

    @PersistenceContext(unitName = "reportPU")
    private EntityManager em;
//    public Object getReportvalueID; //test

    @Override
    protected EntityManager getEntityManager() {
        return em;
    }

    public ReportFacade() {
        super(Report.class);
    }

//    public ReportValue getReportvalueID(String reportvalueID) {
//        throw new UnsupportedOperationException("Not supported yet."); //To change body of generated methods, choose Tools | Templates.
//    }
    
    //this is for the individual report
    public ReportValue getReportByUID(String reportUID){
        //"connect" to the jQuery
        return getEntityManager().createNamedQuery("ReportValue.byUID", ReportValue.class)
                 .setParameter("reportUID", reportUID)
                 .getSingleResult();
    }

    
    
}
